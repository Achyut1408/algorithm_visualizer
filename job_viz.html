<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Job Sequencing Visualization</title>
<style>
    #navlist {
        background-color: #7592ab00;
        position: absolute;
        width: 100%;
        margin-top: -10px;
        
    }
    /* styling navlist anchor element */
    #navlist a {
        float:left;
        display:block;
        color: #262424;
        text-align: center;
        padding: 12px;
        text-decoration:none;
        font-size: 20px;
    }
    .navlist-right{
        float:right;
    }
    #navlist a:hover {
        background-color: rgba(82, 71, 239, 0.262);
        color: black;
    }
    table {
        border-collapse: collapse;
        width: 100%;
        margin-bottom: 20px;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
    }
    th {
        background-color: #f2f2f2;
    }
</style>
</head>
<body>
    <div id="navlist">
        <a href="index.html">Algorithm Visualizer</a>
        <a href="job_sequencing.html">Job Sequencing</a>
    </div>
<h2>Job Sequencing Visualization</h2>
<label for="numOfJobs">Enter number of jobs:</label>
<input type="number" id="numOfJobs">
<button onclick="generateTable()">Generate Table</button>
<br><br>
<div id="tableContainer"></div>

<script>
function generateTable() {
    var numOfJobs = parseInt(document.getElementById('numOfJobs').value);
    var jobs = [];
    for (var i = 0; i < numOfJobs; i++) {
        var time = parseInt(prompt("Enter time required for job " + (i + 1)));
        var profit = parseInt(prompt("Enter profit generated by job " + (i + 1)));
        jobs.push({id: i + 1, time: time, profit: profit});
    }
    jobs.sort((a, b) => b.profit - a.profit); // Sort jobs by profit (descending)

    var timeAvailable = parseInt(prompt("Enter time available"));

    var selectedJobs = [];
    var totalTime = 0;
    var totalProfit = 0;

    var tableHTML = '<table><tr><th>Job ID</th><th>Time Required</th><th>Profit</th></tr>';
    for (var i = 0; i < jobs.length; i++) {
        if (totalTime + jobs[i].time <= timeAvailable) {
            selectedJobs.push(jobs[i]);
            totalTime += jobs[i].time;
            totalProfit += jobs[i].profit;
            tableHTML += '<tr><td>' + jobs[i].id + '</td><td>' + jobs[i].time + '</td><td>' + jobs[i].profit + '</td></tr>';
        }
    }
    tableHTML += '</table>';
    document.getElementById('tableContainer').innerHTML = tableHTML;

    // Visualization: Animate table row by row
    var rows = document.querySelectorAll('#tableContainer table tr');
    var delay = 1000; // Delay between animations (in milliseconds)
    for (var i = 1; i < rows.length; i++) {
        (function(index) {
            setTimeout(function() {
                rows[index].style.backgroundColor = '#dff0d8'; // Highlight selected row
            }, i * delay);
        })(i);
    }

    // Show total profit
    document.getElementById('tableContainer').innerHTML += '<p>Total Profit: ' + totalProfit + '</p>';
}
</script>

</body>
</html>
